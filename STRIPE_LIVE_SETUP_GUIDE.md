# Stripe Live Mode Setup Guide for TRXCK.TECH

## üéØ Your Product Information
- **Product ID**: `prod_RFrAVB9sQ8sUHk`
- **Current Status**: Test Mode ‚Üí Transitioning to Live Mode

## üìã Step-by-Step Setup

### 1. Create Live Price IDs in Stripe Dashboard

Go to your [Stripe Dashboard](https://dashboard.stripe.com/products) and:

1. Navigate to **Products** section
2. Find your product: `prod_RFrAVB9sQ8sUHk`
3. Create **three Price IDs** for your plans:

   - **Basic Plan**: $15.00 USD/month
   - **Standard Plan**: $30.00 USD/month  
   - **Premium Plan**: $60.00 USD/month

4. Copy the live price IDs (they start with `price_live_...`)

### 2. Update Price IDs in Code

Edit the `LIVE_PRICE_IDS` dictionary in `setup_stripe_live.py`:

```python
LIVE_PRICE_IDS = {
    "basic": "price_YOUR_BASIC_LIVE_PRICE_ID",
    "standard": "price_YOUR_STANDARD_LIVE_PRICE_ID", 
    "premium": "price_YOUR_PREMIUM_LIVE_PRICE_ID"
}
```

Then run:
```bash
python setup_stripe_live.py --update-prices
python seed_plans.py  # Update database with new price IDs
```

### 3. Set Up Live Webhook Endpoint

1. In Stripe Dashboard, go to **Webhooks**
2. Create a new webhook endpoint:
   - **URL**: `https://trxck.tech/webhooks/stripe`
   - **Events**: Select `checkout.session.completed`
3. Copy the webhook signing secret (starts with `whsec_`)

### 4. Update Environment Variables

For **PythonAnywhere** (or your hosting platform):

1. Go to Web tab ‚Üí Environment variables
2. Set these variables:

```
STRIPE_SECRET_KEY=sk_live_YOUR_LIVE_SECRET_KEY
STRIPE_PUBLISHABLE_KEY=pk_live_YOUR_LIVE_PUBLISHABLE_KEY
STRIPE_WEBHOOK_SECRET=whsec_YOUR_LIVE_WEBHOOK_SECRET
FLASK_ENV=production
```

### 5. Verify Setup

Run the verification:
```bash
python setup_stripe_live.py --verify-setup
```

## ‚ö†Ô∏è Important Security Notes

1. **Never commit live keys to Git**
2. **Test thoroughly in test mode first**
3. **Keep backups of your test configuration**
4. **Monitor transactions closely after going live**

## üß™ Testing Checklist

Before going live, test:
- [ ] Checkout flow works with test cards
- [ ] Webhooks are received and processed
- [ ] User subscriptions are created correctly
- [ ] Email notifications work
- [ ] Subscription management works

## üöÄ Going Live Checklist

- [ ] Live price IDs created and updated in code
- [ ] Live API keys set in production environment
- [ ] Live webhook endpoint configured
- [ ] SSL certificate valid for domain
- [ ] Database backup created
- [ ] Monitoring and logging enabled

## üìû Support

If you encounter issues:
1. Check Stripe Dashboard logs
2. Check application logs
3. Verify all environment variables are set
4. Contact Stripe support if payment processing fails

---
Generated by setup_stripe_live.py
